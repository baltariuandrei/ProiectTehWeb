{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\facultate\\\\tehWEB\\\\ProiectTehWeb\\\\react-frontend\\\\src\\\\Components\\\\LoginPage.js\";\nimport React, { Component } from 'react';\nimport LoginForm from \"../Containers/LoginForm\";\nimport ProfessorStore from \"../Stores/ProfessorStore\";\nimport StudentStore from \"../Stores/StudentStore\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      studentsDB: [],\n      username: ' ',\n      password: ' ',\n      professorsDB: [],\n      OK_Professor: false,\n      OK_Student: false,\n      professorID: 0,\n      studentID: 0\n    };\n    this.store = new ProfessorStore();\n    this.storeStud = new StudentStore();\n\n    this.handleChange = evt => {\n      this.setState({\n        [evt.target.name]: evt.target.value\n      });\n    };\n\n    this.handleClick = evt => {\n      if (evt.target.name === \"login_prof\") {\n        let ok = 1;\n        console.log(\"this.state.professorsDB : \" + this.state.professorsDB);\n        this.state.professorsDB.forEach(prof => {\n          if (prof.usernameDB === this.state.username && prof.passwordDB === this.state.password) {\n            ok = 0;\n            this.state.professorID = prof.id; // this.setState({professorID:prof.id})\n          }\n        });\n\n        if (ok === 0) {\n          this.state.OK_Professor = true; // this.setState({OK_Professor:true})\n        }\n\n        if (this.state.OK_Professor === true) {\n          this.props.history.push('/professor/' + this.state.professorID);\n        } else {\n          alert(\"Datele de logare pentru profesor au fost introduse gresit!\");\n        }\n      } else if (evt.target.name === \"login_stud\") {\n        let ok_s = 1;\n        console.log(\"this.state.studentsDB : \" + this.state.studentsDB);\n        this.state.studentsDB.forEach(stud => {\n          console.log(stud + \" afisare stud\");\n\n          if (stud.usernameStudDB === this.state.username && stud.passwordStudDB === this.state.password) {\n            ok_s = 0;\n            this.state.studentID = stud.id; // this.setState({studentID:stud.id})\n          }\n        });\n\n        if (ok_s === 0) {\n          this.state.OK_Student = true; // this.setState({OK_Student:true})\n        }\n\n        console.log(\"user input: \" + this.state.username + \" ----- \" + this.state.password);\n\n        if (this.state.OK_Student) {\n          this.props.history.push('/student/' + this.state.studentID);\n        } else {\n          alert(\"Datele de logare pentru student au fost introduse gresit!\");\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.store.getProfessors();\n    this.store.emitter.addListener('GET_PROFESSORS_SUCCESS', () => {\n      this.setState({\n        professorsDB: this.store.professorsDB\n      });\n    });\n    console.log(this.store.professorsDB);\n    this.storeStud.getStudents();\n    this.storeStud.emitter.addListener('GET_STUDENTS_SUCCESS', () => {\n      this.setState({\n        studentsDB: this.storeStud.studentsDB\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(LoginForm, {\n      handleChange: event => this.handleChange(event),\n      handleClick: event => this.handleClick(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/User/Desktop/facultate/tehWEB/ProiectTehWeb/react-frontend/src/Components/LoginPage.js"],"names":["React","Component","LoginForm","ProfessorStore","StudentStore","Login","constructor","props","state","studentsDB","username","password","professorsDB","OK_Professor","OK_Student","professorID","studentID","store","storeStud","handleChange","evt","setState","target","name","value","handleClick","ok","console","log","forEach","prof","usernameDB","passwordDB","id","history","push","alert","ok_s","stud","usernameStudDB","passwordStudDB","componentDidMount","getProfessors","emitter","addListener","getStudents","render","event"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AACA,OAAOC,YAAP,MAAyB,wBAAzB;;AAEA,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAC1BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAE,EADH;AAETC,MAAAA,QAAQ,EAAE,GAFD;AAGTC,MAAAA,QAAQ,EAAE,GAHD;AAITC,MAAAA,YAAY,EAAE,EAJL;AAKTC,MAAAA,YAAY,EAAE,KALL;AAMTC,MAAAA,UAAU,EAAE,KANH;AAOTC,MAAAA,WAAW,EAAE,CAPJ;AAQTC,MAAAA,SAAS,EAAE;AARF,KAAb;AAWA,SAAKC,KAAL,GAAa,IAAId,cAAJ,EAAb;AACA,SAAKe,SAAL,GAAiB,IAAId,YAAJ,EAAjB;;AAEA,SAAKe,YAAL,GAAqBC,GAAD,IAAS;AACzB,WAAKC,QAAL,CAAc;AACV,SAACD,GAAG,CAACE,MAAJ,CAAWC,IAAZ,GAAmBH,GAAG,CAACE,MAAJ,CAAWE;AADpB,OAAd;AAGH,KAJD;;AAMA,SAAKC,WAAL,GAAoBL,GAAD,IAAS;AACxB,UAAIA,GAAG,CAACE,MAAJ,CAAWC,IAAX,KAAoB,YAAxB,EAAsC;AAClC,YAAIG,EAAE,GAAG,CAAT;AAEAC,QAAAA,OAAO,CAACC,GAAR,CAAY,+BAA+B,KAAKpB,KAAL,CAAWI,YAAtD;AACA,aAAKJ,KAAL,CAAWI,YAAX,CAAwBiB,OAAxB,CAAgCC,IAAI,IAAI;AACpC,cAAIA,IAAI,CAACC,UAAL,KAAoB,KAAKvB,KAAL,CAAWE,QAA/B,IAA2CoB,IAAI,CAACE,UAAL,KAAoB,KAAKxB,KAAL,CAAWG,QAA9E,EAAwF;AACpFe,YAAAA,EAAE,GAAG,CAAL;AACA,iBAAKlB,KAAL,CAAWO,WAAX,GAAyBe,IAAI,CAACG,EAA9B,CAFoF,CAGpF;AACH;AACJ,SAND;;AAQA,YAAIP,EAAE,KAAK,CAAX,EAAc;AACV,eAAKlB,KAAL,CAAWK,YAAX,GAA0B,IAA1B,CADU,CAEV;AAEH;;AAED,YAAI,KAAKL,KAAL,CAAWK,YAAX,KAA0B,IAA9B,EAAoC;AAChC,eAAKN,KAAL,CAAW2B,OAAX,CAAmBC,IAAnB,CAAwB,gBAAgB,KAAK3B,KAAL,CAAWO,WAAnD;AACH,SAFD,MAEO;AACHqB,UAAAA,KAAK,CAAC,4DAAD,CAAL;AACH;AACJ,OAvBD,MAuBO,IAAIhB,GAAG,CAACE,MAAJ,CAAWC,IAAX,KAAoB,YAAxB,EAAsC;AAEzC,YAAIc,IAAI,GAAG,CAAX;AAGAV,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6B,KAAKpB,KAAL,CAAWC,UAApD;AACA,aAAKD,KAAL,CAAWC,UAAX,CAAsBoB,OAAtB,CAA8BS,IAAI,IAAI;AAClCX,UAAAA,OAAO,CAACC,GAAR,CAAYU,IAAI,GAAG,eAAnB;;AACA,cAAIA,IAAI,CAACC,cAAL,KAAwB,KAAK/B,KAAL,CAAWE,QAAnC,IAA+C4B,IAAI,CAACE,cAAL,KAAwB,KAAKhC,KAAL,CAAWG,QAAtF,EAAgG;AAC5F0B,YAAAA,IAAI,GAAG,CAAP;AACA,iBAAK7B,KAAL,CAAWQ,SAAX,GAAuBsB,IAAI,CAACL,EAA5B,CAF4F,CAG5F;AACH;AACJ,SAPD;;AAQA,YAAII,IAAI,KAAK,CAAb,EAAgB;AACZ,eAAK7B,KAAL,CAAWM,UAAX,GAAwB,IAAxB,CADY,CAEZ;AACH;;AAEDa,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiB,KAAKpB,KAAL,CAAWE,QAA5B,GAAuC,SAAvC,GAAmD,KAAKF,KAAL,CAAWG,QAA1E;;AAEA,YAAI,KAAKH,KAAL,CAAWM,UAAf,EAA2B;AACvB,eAAKP,KAAL,CAAW2B,OAAX,CAAmBC,IAAnB,CAAwB,cAAc,KAAK3B,KAAL,CAAWQ,SAAjD;AACH,SAFD,MAEO;AACHoB,UAAAA,KAAK,CAAC,2DAAD,CAAL;AACH;AACJ;AAEJ,KApDD;AAsDH;;AAGDK,EAAAA,iBAAiB,GAAG;AAChB,SAAKxB,KAAL,CAAWyB,aAAX;AACA,SAAKzB,KAAL,CAAW0B,OAAX,CAAmBC,WAAnB,CAA+B,wBAA/B,EAAyD,MAAM;AAC3D,WAAKvB,QAAL,CAAc;AACVT,QAAAA,YAAY,EAAE,KAAKK,KAAL,CAAWL;AADf,OAAd;AAGH,KAJD;AAMAe,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAWL,YAAvB;AAEA,SAAKM,SAAL,CAAe2B,WAAf;AACA,SAAK3B,SAAL,CAAeyB,OAAf,CAAuBC,WAAvB,CAAmC,sBAAnC,EAA2D,MAAM;AAC7D,WAAKvB,QAAL,CAAc;AACVZ,QAAAA,UAAU,EAAE,KAAKS,SAAL,CAAeT;AADjB,OAAd;AAGH,KAJD;AAOH;;AAEDqC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,SAAD;AACI,MAAA,YAAY,EAAGC,KAAD,IAAW,KAAK5B,YAAL,CAAkB4B,KAAlB,CAD7B;AAEI,MAAA,WAAW,EAAGA,KAAD,IAAW,KAAKtB,WAAL,CAAiBsB,KAAjB,CAF5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ;AASH;;AA9GyB;;AAiH9B,eAAe1C,KAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport LoginForm from \"../Containers/LoginForm\";\r\nimport ProfessorStore from \"../Stores/ProfessorStore\";\r\nimport StudentStore from \"../Stores/StudentStore\";\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            studentsDB: [],\r\n            username: ' ',\r\n            password: ' ',\r\n            professorsDB: [],\r\n            OK_Professor: false,\r\n            OK_Student: false,\r\n            professorID: 0,\r\n            studentID: 0\r\n        };\r\n\r\n        this.store = new ProfessorStore();\r\n        this.storeStud = new StudentStore();\r\n\r\n        this.handleChange = (evt) => {\r\n            this.setState({\r\n                [evt.target.name]: evt.target.value\r\n            })\r\n        };\r\n\r\n        this.handleClick = (evt) => {\r\n            if (evt.target.name === \"login_prof\") {\r\n                let ok = 1;\r\n                \r\n                console.log(\"this.state.professorsDB : \" + this.state.professorsDB)\r\n                this.state.professorsDB.forEach(prof => {\r\n                    if (prof.usernameDB === this.state.username && prof.passwordDB === this.state.password) {\r\n                        ok = 0;\r\n                        this.state.professorID = prof.id\r\n                        // this.setState({professorID:prof.id})\r\n                    }\r\n                });\r\n\r\n                if (ok === 0) {\r\n                    this.state.OK_Professor = true\r\n                    // this.setState({OK_Professor:true})\r\n\r\n                }\r\n\r\n                if (this.state.OK_Professor===true) {\r\n                    this.props.history.push('/professor/' + this.state.professorID)\r\n                } else {\r\n                    alert(\"Datele de logare pentru profesor au fost introduse gresit!\")\r\n                }\r\n            } else if (evt.target.name === \"login_stud\") {\r\n\r\n                let ok_s = 1;\r\n                \r\n                \r\n                console.log(\"this.state.studentsDB : \" + this.state.studentsDB)\r\n                this.state.studentsDB.forEach(stud => {\r\n                    console.log(stud + \" afisare stud\")\r\n                    if (stud.usernameStudDB === this.state.username && stud.passwordStudDB === this.state.password) {\r\n                        ok_s = 0;\r\n                        this.state.studentID = stud.id\r\n                        // this.setState({studentID:stud.id})\r\n                    }\r\n                });\r\n                if (ok_s === 0) {\r\n                    this.state.OK_Student = true;\r\n                    // this.setState({OK_Student:true})\r\n                }\r\n                \r\n                console.log(\"user input: \" + this.state.username + \" ----- \" + this.state.password)\r\n\r\n                if (this.state.OK_Student) {\r\n                    this.props.history.push('/student/' + this.state.studentID)\r\n                } else {\r\n                    alert(\"Datele de logare pentru student au fost introduse gresit!\")\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.store.getProfessors();\r\n        this.store.emitter.addListener('GET_PROFESSORS_SUCCESS', () => {\r\n            this.setState({\r\n                professorsDB: this.store.professorsDB\r\n            })\r\n        })\r\n\r\n        console.log(this.store.professorsDB)\r\n\r\n        this.storeStud.getStudents();\r\n        this.storeStud.emitter.addListener('GET_STUDENTS_SUCCESS', () => {\r\n            this.setState({\r\n                studentsDB: this.storeStud.studentsDB\r\n            })\r\n        })\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <LoginForm\r\n                    handleChange={(event) => this.handleChange(event)}\r\n                    handleClick={(event) => this.handleClick(event)}\r\n                />\r\n            </div>\r\n        )\r\n\r\n    }\r\n}\r\n\r\nexport default Login;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}